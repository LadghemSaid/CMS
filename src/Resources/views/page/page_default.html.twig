{% extends '@PiedWebCMS/base.html.twig' %}

{% block title %}{{ page.title|striptags }}{% endblock %}

{% block robots %}
    {% if page.excrept is defined and page.excrept is not null %}
        <meta name="description" content="{{ page.excrept|escape }}">
    {% endif %}
    {% if page.metaRobots is defined and page.metaRobots is not null %}
        <meta name="robots" content="{{ page.metaRobots }}">
    {% endif %}
    <link rel="canonical" href="{{ app_base_url is defined ? app_base_url : '' }}{{ page(page.realSlug) }}" />
{% endblock %}


{% block alternate_language %}
    {% if page.locale is not null %}
        <link rel="alternate" hreflang="{{ page.locale }}" href="{{ base_url }}{{ page(page.slug) }}" />
        {% for translation in page.translations %}
            <link rel="alternate" hreflang="{{ translation.locale }}" href="{{ base_url }}{{ page(translation.slug) }}" />
        {% endfor %}
    {% endif %}
{% endblock %}


{% block open_graph %}
    {% if page is defined %}
        <meta name="og:title" content="{{ (page.h1 is not null ? page.h1 : page.title)|striptags }}">
        <meta name="og:url" content="{{ base_url }}{{ page(page.realSlug) }}">
        {% if page.excrept %}
            <meta name="og:description" content="{{ page.excrept|striptags }}">
        {% endif %}
        {% if page.mainImage is defined and page.mainImage is not null %}
            <meta name="og:image" content="{{ base_url }}{{ (page.mainImage.relativeDir ~ '/' ~ page.mainImage.media)|imagine_filter('default') }}">
        {% endif %}
    {% endif %}
    {{ parent() }}
{% endblock %}

{% block body %}

    {% block next-navbar %}
        <div class=next-navbar></div>
    {% endblock %}


    {% block content %}
        {% include '@PiedWebCMS/page/_main_content.html.twig' %}
    {% endblock %}

    {% block footer %}
        {% include '@PiedWebCMS/page/_footer.html.twig' %}
    {% endblock %}

    {% block extra_footer %}
        {% include '@PiedWebCMS/page/_extra_footer.html.twig' %}
    {% endblock %}

    {% block navbar %}
        {% include '@PiedWebCMS/page/_menu.html.twig' with {'logo':{'alt':logo_alt}} %}
    {% endblock %}

{% endblock %}
